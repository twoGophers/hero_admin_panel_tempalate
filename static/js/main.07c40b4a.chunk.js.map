{"version":3,"sources":["hooks/http.hook.js","components/heroesList/heroesSlice.js","components/heroesFilters/filtersSlice.js","components/heroesListItem/HeroesListItem.js","assets/unknown-hero.jpg","components/spinner/Spinner.js","components/heroesList/HeroesList.js","actions/index.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","reducers/filters.js","store/index.js","index.js"],"names":["useHttp","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","data","heroesSlice","createSlice","name","initialState","heroes","heroesLoadingStatus","reducers","heroesFetching","state","heroesFetched","action","payload","heroesFetchingError","heroCreated","push","heroDeleted","filter","item","id","actions","reducer","filtersSlice","filters","filtersLoadingStatus","activeFilter","filtersFetching","filtersFetched","filtersFetchingError","filtersChanged","HeroesListItem","elementClassName","description","element","onDelete","className","src","alt","style","onClick","type","aria-label","Spinner","role","HeroesList","filteredHeroesSelector","createSelector","filteredHeroes","useSelector","dispatch","useDispatch","useEffect","then","catch","fetchHeroes","console","log","err","arr","elements","length","CSSTransition","timeout","classNames","map","props","TransitionGroup","component","HeroesAddForm","useState","heroName","setHeroName","heroDescr","setHeroDescr","heroElement","setHeroElement","onSubmit","e","preventDefault","newHero","uuidv4","JSON","stringify","res","htmlFor","required","placeholder","value","onChange","target","label","renderFilters","HeroesFilters","fetchFilters","btnClass","App","stringMiddleware","next","store","configureStore","middleware","getDefaultMiddleware","concat","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07c40b4a.chunk.js","sourcesContent":["import { useCallback } from \"react\";\n\nexport const useHttp = () => {\n    // const [process, setProcess] = useState('waiting');\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\n\n        // setProcess('loading');\n\n        try {\n            const response = await fetch(url, {method, body, headers});\n\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n            }\n\n            const data = await response.json();\n\n            return data;\n        } catch(e) {\n            // setProcess('error');\n            throw e;\n        }\n    }, []);\n\n    // const clearError = useCallback(() => {\n        // setProcess('loading');\n    // }, []);\n\n    return {request, \n            // clearError, \n            // process, \n            // setProcess\n        }\n}","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    heroes: [],\r\n    heroesLoadingStatus: 'idle'\r\n}\r\n\r\nconst heroesSlice = createSlice({\r\n    name: 'heroes',\r\n    initialState,\r\n    reducers: {\r\n        heroesFetching: state => {state.heroesLoadingStatus = 'loading'},\r\n        heroesFetched: (state, action) => {\r\n            state.heroesLoadingStatus = 'idle';\r\n            state.heroes = action.payload;\r\n        },\r\n        heroesFetchingError: state => {\r\n            state.heroesLoadingStatus = 'error';\r\n        },\r\n        heroCreated: (state, action) => {\r\n            state.heroes.push(action.payload);\r\n        },\r\n        heroDeleted: (state, action) => {\r\n            state.heroes = state.heroes.filter(item => item.id !== action.payload);\r\n        }\r\n    }\r\n});\r\n\r\nconst {actions, reducer} = heroesSlice;\r\n\r\nexport default reducer;\r\nexport const {\r\n    heroesFetching,\r\n    heroesFetched,\r\n    heroesFetchingError,\r\n    heroCreated,\r\n    heroDeleted\r\n} = actions;","import { createSlice } from \"@reduxjs/toolkit\"; \r\n\r\nconst initialState = {\r\n    filters: [],\r\n    filtersLoadingStatus: 'idle',\r\n    activeFilter: 'all'\r\n}\r\n\r\nconst filtersSlice = createSlice({\r\n    name: 'filters',\r\n    initialState,\r\n    reducers: {\r\n        filtersFetching: state => {state.filtersLoadingStatus = 'loading'},\r\n        filtersFetched: (state, action) => {\r\n            state.filtersLoadingStatus = 'idle';\r\n            state.filters = action.payload;\r\n        },\r\n        filtersFetchingError: state => {\r\n            state.filtersLoadingStatus = 'error';\r\n        },\r\n        filtersChanged: (state, action) => {\r\n            state.activeFilter = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nconst {actions, reducer} = filtersSlice;\r\n\r\nexport default reducer;\r\nexport const {\r\n    filtersFetching,\r\n    filtersFetched,\r\n    filtersFetchingError,\r\n    filtersChanged\r\n} = actions;","import unknownHero from '../../assets/unknown-hero.jpg'\n\nconst HeroesListItem = ({name, description, element, onDelete}) => {\n\n    let elementClassName;\n\n    switch (element) {\n        case 'fire':\n            elementClassName = 'bg-danger bg-gradient';\n            break;\n        case 'water':\n            elementClassName = 'bg-primary bg-gradient';\n            break;\n        case 'wind':\n            elementClassName = 'bg-success bg-gradient';\n            break;\n        case 'earth':\n            elementClassName = 'bg-secondary bg-gradient';\n            break;\n        default:\n            elementClassName = 'bg-warning bg-gradient';\n    }\n\n    return (\n        <li \n            className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}>\n            <img src={unknownHero} \n                 className=\"img-fluid w-25 d-inline\" \n                 alt=\"unknown hero\" \n                 style={{'objectFit': 'cover'}}/>\n            <div className=\"card-body\">\n                \n                <h3 className=\"card-title\">{name}</h3>\n                <p className=\"card-text\">{description}</p>\n            </div>\n            <span onClick={onDelete} \n                className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\">\n                <button type=\"button\" className=\"btn-close btn-close\" aria-label=\"Close\"></button>\n            </span>\n        </li>\n    )\n}\n\nexport default HeroesListItem;","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBhQPEBMPDhIQDxQUEBMVFhAVERETEhMXFRYVGR8SFRMjGycgFxkkGhYUHzsjJycpOC8sGR89NTAqNSYrLCkBCQoKDAwMGQwMGSkYFBgpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKf/AABEIAKAAwAMBIgACEQEDEQH/xAAcAAEAAwEAAwEAAAAAAAAAAAAABgcIBQIDBAH/xABCEAABAwIDAwgHAwsFAQAAAAABAAIDBBEFBxIGITETNUFRYXFzsggUIiNCgZEyUoIzU2JjcnShorGzwRU0Q5LRF//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCjUREBERAREQEREBERARTvYzJ6txICQtFLAbe+la4Fw644+Lu/cO1XBszkTQ0Z1zF9a8sc08oGCP2hYlsYG42JsSTboQZkRan/APiGE6S31Z2/4uWm1DuOpcHHfR2pJBeimmpXAHc73zCejiQ4fU9yDOyLt7WbIz4XUOp6pouLWkaHcnJuBuxxAvbUO5cRAREQEREBERAUvyl56ovGPkeogpflLz1ReMfI9BEEREBERAREQEREHkyMuIa0FxJAAAuST0AdJWgcr8k20/J1uJjXNucylIBZEegyffeOrgD1nhGPR+2ObUVMmITAOZTENjBFwZXC+r8LbfNwPQtDoCLi7Y7SDDaKatMZm5JoPJhwbqLnBoGqxsLnjY9yz7jWfOJVBPIvipG9DY2Bzuni91zfusg04iyfBnBirHB3rsjrdDmROae8aVbeV2c3+ovFFXNZFUEe7kbujmsN7dPwvtc9R38OBCxMe2fgr4XU9XG2VjgeIF2k/Ex3Frh1hZdzIy7kwao03dLTyXMM1uNuMb+gPH8RvHUNZrh7ZbKR4pSSUk27VvZJa5jePsvHd1dIJHSgxwi+rEsOfTTSU8w0vikcxw6nNNj8l8qAiIgIiICl+UvPVF4x8j1EFL8peeqLxj5HoIgiIgIiICIiAiIg09kNhwhweN9rGaaWQ9u/QP4MCsVQ/KJtsFogfzTj9ZHlTBBCc5+ZKvuj/usWeNlcu63FPapISYwbGZ50RdwcftEdQutaYhh0dRG6GdjJY3W1RvAc02N947wF50tIyFjYomtjYxoa1jQGtaB0AdAQZE2u2Dq8Jc1tZGA199ErHao324gO6D2Gy4tBWuglZNEdL43te13U5pBB+oWiPSIqGNwuNjra3VbCwdPstfqcOyxt+ILODRdBtuhqhLEyUbg9jXgcdzgD/le9fJhFMYqeGI8WQxsPe1oH+F9aDM+fuCCnxXlm8KmFsn4m3Y7ytPzVaK6vSW/K0Phz+aNUqgIiICIiApflLz1ReMfI9RBS/KXnqi8Y+R6CIIiICIiAiIgL30dG+Z7YoWOle82axrS5zj1ADivQrM9H2lD8XLjb3dLK4d5LG7vk4oLzy6o3w4XSQzRuhkjhDHRuFnNLSQb/ANfmpIiICjO3GYFPg8bH1XKOdJqEcbG3c8s033nc0DU3ielSZUh6TH2cP/aqv6QIKv2524mxip5ef2GtBbFACS2JvUD0uO4l1t+7gAAO1k9sO/Ea5kr2n1ane2SR5Hsuc3e2IdZJAJHVfrC4OwOBx12JU1JPq5OSQh2k2dYNc6wPRe1lrbCMHho4W09LG2GNg9ljRu7z1k9ZQfaiIgzz6R9eHV1NAP8Ajpi498jzu+jB9VUSsfPyUOxl4Dg7TTwggfCbE6T8iD81XCAiIgIiICl+UvPVF4x8j1EFL8peeqLxj5HoIgiIgIiICIiAprk5ivq2M0pJAbI50Lrn840gD/tpUKXnDMWOD2Etc0ghwNiCDcEHrug3Aii2wW3EWKUTKgPYJGsHLx3AMbwPaJHQw8QeFj2FSgOvvG9B+qv81NlKTETTtra6OhMXKloc+FpeH8mCbPcNw0dHWrAWf/ST/wB1Sfu8n9xB2tj8uMNoq6nqYMWhnkZJ7MXK0t3lwLQ0Wfe/tdCuZY52E50of32n/uNWxkBEX5dBlfOt4ON1Wm27kge/kmKCrsbX15qK+rmJ1a6qYg9mt1v5QFx0BERAREQFL8peeqLxj5HqIKX5S89UXjHyPQRBERAREQEREBERB+h1uC17ltinrWE0cp3n1djD3x+wT/KsgrT+QtVrwaNt78nNMz+bV/RyCxFH9pNg6PEnskrYeWcxpa063tsCb23EdKkCIIdQ5R4ZBKyaKl0vje17HcrKbOaQQbF3WFMURAVcZ6bTvosNDIJHRSVEwj1NdpfoALnEHiPhFx95WMSssZwbaDE8QPJO1QQAxREHc7f7Uo/aI+jWoIIiIgIiICIiApflLz1ReMfI9RBS/KXnqi8Y+R6CIIiICIiAiIgIi7Gyezr8RrIaOLcZHgF1r6GDe5/yaCUFj5YZLRYjSeu10kzGyOIijjLW3a3cXuJaeLrgAW4du65tjtjYcJgdT0plLHSGQ8o4OOota3duFhZoXVw7D2U0McELQyONjWNb1NaLBfSgIiICIiCvc8dpJKLCyIDpdUSiAu6Wsc17nEdpDbfNZeWv9vdiY8YpfVpXviLXiSORtjpeGuaCW/E2zju3d4WYNtNiZ8IqPV6rSdTdTJGElkjbkXHSDccDw+iCPoiICIiAiIgKX5S89UXjHyPUQUvyl56ovGPkegiCIiAiIgL9AXV2a2ZnxKobS0jNbyCSSbNY0cXvd0NH/i0VsBk3TYZpmntV1I3iRzfdxn9Ww9P6R39VkFK7P5O4lWhr2wchG63vJzyYsfi0faI+SvbL/KmnwcmVj3zzvjDHSvDQGjiRG0D2QSBxJO4b1N0QEREBERAREQFCs2NijitA5kQBnhPKQ8LuIBBiv0ah/EN6lNUQZDqMs8SjOl1DU30F+5msWbx3i4v2cexR6opHxG0jHxki9nNc0267FbdXMx7Zunr4+SrIWTtBuA4b2nra4b2nuKDF6LQ+0/o80srS7DpH0r/uPJlhPZ95vfc9yr/G8hcRpxqibFVj9U8h4/A4Nv8AK6CuEXnLEWOLHgtc0kFpBBBBsQR0EFeCApflLz1ReMfI9RBS/KXnqi8Y+R6CIIiICsfLzJmfE7T1OukptxDi33so/VtPAfpHd1AqSZLZUMmY3E8QaJGk3ggcLtdY/lZB0i43N7Lm+5XvZBw9ltiqXC4zHRRBmq2uQkukfb7zzvPdw7F3URAREQEREBERAREQEREBERAREQVbmHkjHiMstZSyGGoe25jIBhkeBxJ4sJtvO/fvtxWc6qmdE90UjSx7HOa5p4tc02LT2ggrbyovPzL1rB/q1M0gl4bUsHC53Nm7N9mnvB67hSCl+UvPVF4x8j1EFL8peeqLxj5HoIguvsngDsQrYKNlxysgaXAX0t4uf8mglchXd6N+BNc6qrntu5miGN1tw1AufY9duTHce1Bd1DRMgiZDENLI2NYxvU1oAA+gC96IgIiICIiAiIgIiICIiAiIgIiICIiAvnxCgZURPgmaHxyMLHMPBzXCxC+hEGOtt9lX4XWy0j7kNN43n443fZf9Nx7QV0cpeeqLxj5Hq7c8dk2VeHPqQ331KNbXAbzHca2HrFva7C3vVJZS89UXjHyPQf/Z\"","\nconst Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import {useHttp} from '../../hooks/http.hook';\nimport { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CSSTransition, TransitionGroup} from 'react-transition-group';\nimport { createSelector } from 'reselect';\n\nimport { fetchHeroes } from '../../actions';\nimport { heroDeleted } from './heroesSlice';\n\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner';\n\n\nconst HeroesList = () => {\n\n    const filteredHeroesSelector = createSelector(\n        (state) => state.filters.activeFilter,\n        (state) => state.heroes.heroes,\n        (filter, heroes) => {\n            if (filter === 'all') {\n                return heroes;\n            } else {\n                return heroes.filter(item => item.element === filter);\n            }\n        }\n    );\n\n    const filteredHeroes = useSelector(filteredHeroesSelector);\n    const heroesLoadingStatus = useSelector(state => state.heroes.heroesLoadingStatus);\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    useEffect(() => {\n        dispatch(fetchHeroes(request));\n        // eslint-disable-next-line\n    }, []);\n\n    const onDelete = useCallback((id) => {\n        request(`http://localhost:3001/heroes/${id}`, \"DELETE\")\n            .then(data => console.log(data, 'Deleted'))\n            .then(dispatch(heroDeleted(id)))\n            .catch(err => console.log(err));\n        // eslint-disable-next-line  \n    }, [request]);\n\n    if (heroesLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (heroesLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const renderHeroesList = (arr) => {\n        if (arr.length === 0) {\n            return (\n                <CSSTransition\n                    timeout={0}\n                    classNames=\"hero\">\n                    <h5 className=\"text-center mt-5\">Героев пока нет</h5>\n                </CSSTransition>\n            )\n        }\n\n        return arr.map(({id, ...props}) => {\n            return (\n                <CSSTransition \n                    key={id}\n                    timeout={500}\n                    classNames=\"hero\">\n                    <HeroesListItem  {...props} onDelete={() => onDelete(id)}/>\n                </CSSTransition>\n            )\n        })\n    }\n\n    const elements = renderHeroesList(filteredHeroes);\n    return (\n        <TransitionGroup component=\"ul\">\n            {elements}\n        </TransitionGroup>\n    )\n}\n\nexport default HeroesList;","\nimport {heroesFetching, heroesFetched, heroesFetchingError} from '../components/heroesList/heroesSlice';\nimport {filtersFetching, filtersFetched, filtersFetchingError} from '../components/heroesFilters/filtersSlice';\n\nexport const fetchHeroes = (request) => (dispatch) => {\n    dispatch(heroesFetching());\n    request(\"http://localhost:3001/heroes\")\n        .then(data => dispatch(heroesFetched(data)))\n        .catch(() => dispatch(heroesFetchingError()))\n}\n\nexport const fetchFilters = (request) => (dispatch) => {\n    dispatch(filtersFetching());\n    request(\"http://localhost:3001/filters\")\n        .then(data => dispatch(filtersFetched(data)))\n        .catch(() => dispatch(filtersFetchingError()))\n}\n\n// export const heroesFetching = () => {\n//     return {\n//         type: 'HEROES_FETCHING'\n//     }\n// }\n\n// export const heroesFetching = createAction('HEROES_FETCHING');\n\n// export const heroesFetched = (heroes) => {\n//     return {\n//         type: 'HEROES_FETCHED',\n//         payload: heroes\n//     }\n// }\n\n// export const heroesFetched = createAction('HEROES_FETCHED');\n\n// export const heroesFetchingError = () => {\n//     return {\n//         type: 'HEROES_FETCHING_ERROR'\n//     }\n// }\n\n// export const heroesFetchingError = createAction('HEROES_FETCHING_ERROR');\n\n// export const filtersFetching = () => {\n//     return {\n//         type: 'FILTERS_FETCHING'\n//     }\n// }\n\n// export const filtersFetched = (filters) => {\n//     return {\n//         type: 'FILTERS_FETCHED',\n//         payload: filters\n//     }\n// }\n\n// export const filtersFetchingError = () => {\n//     return {\n//         type: 'FILTERS_FETCHING_ERROR'\n//     }\n// }\n\n// export const activeFilterChanged = (filter) => {\n//     return {\n//         type: 'ACTIVE_FILTER_CHANGED',\n//         payload: filter\n//     }\n// }\n\n// export const heroCreated = (hero) => {\n//     return {\n//         type: 'HERO_CREATED',\n//         payload: hero\n//     }\n// }\n\n// export const heroCreated = createAction('HERO_CREATED');\n\n// export const heroDeleted = (id) => {\n//     return {\n//         type: 'HERO_DELETED',\n//         payload: id\n//     }\n// }\n\n// export const heroDeleted = createAction('HERO_DELETED');","// Задача для этого компонента:\n// Реализовать создание нового героя с введенными данными. Он должен попадать\n// в общее состояние и отображаться в списке + фильтроваться\n// Уникальный идентификатор персонажа можно сгенерировать через uiid\n// Усложненная задача:\n// Персонаж создается и в файле json при помощи метода POST\n// Дополнительно:\n// Элементы <option></option> желательно сформировать на базе\n// данных из фильтров\n\nimport {useHttp} from '../../hooks/http.hook';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { heroCreated } from '../heroesList/heroesSlice';\n\nconst HeroesAddForm = () => {\n    // Состояния для контроля формы\n    const [heroName, setHeroName] = useState('');\n    const [heroDescr, setHeroDescr] = useState('');\n    const [heroElement, setHeroElement] = useState('');\n\n    const {filters, filtersLoadingStatus} = useSelector(state => state.filters);\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    const onSubmitHandler = (e) => {\n        e.preventDefault();\n        // Можно сделать и одинаковые названия состояний,\n        // хотел показать вам чуть нагляднее\n        // Генерация id через библиотеку\n        const newHero = {\n            id: uuidv4(),\n            name: heroName,\n            description: heroDescr,\n            element: heroElement\n        }\n\n        // Отправляем данные на сервер в формате JSON\n        // ТОЛЬКО если запрос успешен - отправляем персонажа в store\n        // request(\"http://localhost:3001/heroes\", \"POST\", JSON.stringify(newHero))\n        request(\"https://my-json-server.typicode.com/twoGophers/hero_admin_panel_tempalate/heroes\", \"POST\", JSON.stringify(newHero))\n            .then(res => console.log(res, 'Отправка успешна'))\n            .then(dispatch(heroCreated(newHero)))\n            .catch(err => console.log(err));\n\n        // Очищаем форму после отправки\n        setHeroName('');\n        setHeroDescr('');\n        setHeroElement('');\n    }\n\n    const renderFilters = (filters, status) => {\n        if (status === \"loading\") {\n            return <option>Загрузка элементов</option>\n        } else if (status === \"error\") {\n            return <option>Ошибка загрузки</option>\n        }\n        \n        // Если фильтры есть, то рендерим их\n        if (filters && filters.length > 0 ) {\n            return filters.map(({name, label}) => {\n                // Один из фильтров нам тут не нужен\n                // eslint-disable-next-line\n                if (name === 'all')  return;\n\n                return <option key={name} value={name}>{label}</option>\n            })\n        }\n    }\n\n    return (\n        <form className=\"border p-4 shadow-lg rounded\" onSubmit={onSubmitHandler}>\n            <div className=\"mb-3\">\n                <label htmlFor=\"name\" className=\"form-label fs-4\">Имя нового героя</label>\n                <input \n                    required\n                    type=\"text\" \n                    name=\"name\" \n                    className=\"form-control\" \n                    id=\"name\" \n                    placeholder=\"Как меня зовут?\"\n                    value={heroName}\n                    onChange={(e) => setHeroName(e.target.value)}/>\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"text\" className=\"form-label fs-4\">Описание</label>\n                <textarea\n                    required\n                    name=\"text\" \n                    className=\"form-control\" \n                    id=\"text\" \n                    placeholder=\"Что я умею?\"\n                    style={{\"height\": '130px'}}\n                    value={heroDescr}\n                    onChange={(e) => setHeroDescr(e.target.value)}/>\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"element\" className=\"form-label\">Выбрать элемент героя</label>\n                <select \n                    required\n                    className=\"form-select\" \n                    id=\"element\" \n                    name=\"element\"\n                    value={heroElement}\n                    onChange={(e) => setHeroElement(e.target.value)}>\n                    <option value=\"\">Я владею элементом...</option>\n                    {renderFilters(filters, filtersLoadingStatus)}\n                </select>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary\">Создать</button>\n        </form>\n    )\n}\n\nexport default HeroesAddForm;","import {useHttp} from '../../hooks/http.hook';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\n\nimport { fetchFilters } from '../../actions';\nimport { filtersChanged } from './filtersSlice';\nimport Spinner from '../spinner/Spinner';\n\nconst HeroesFilters = () => {\n\n    const {filters, filtersLoadingStatus, activeFilter} = useSelector(state => state.filters);\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    useEffect(() => {\n        dispatch(fetchFilters(request));\n\n        // eslint-disable-next-line\n    }, []);\n\n    if (filtersLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (filtersLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const renderFilters = (arr) => {\n        if (arr.length === 0) {\n            return <h5 className=\"text-center mt-5\">Фильтры не найдены</h5>\n        }\n\n        return arr.map(({name, className, label}) => {\n\n            const btnClass = classNames('btn', className, {\n                'active': name === activeFilter\n            });\n            \n            return <button \n                        key={name} \n                        id={name} \n                        className={btnClass}\n                        onClick={() => dispatch(filtersChanged(name))}\n                        >{label}</button>\n        })\n    }\n\n    const elements = renderFilters(filters);\n\n    return (\n        <div className=\"card shadow-lg mt-4\">\n            <div className=\"card-body\">\n                <p className=\"card-text\">Отфильтруйте героев по элементам</p>\n                <div className=\"btn-group\">\n                    {elements}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HeroesFilters;","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","const initialState = {\r\n    filters: [],\r\n    filtersLoadingStatus: 'idle',\r\n    activeFilter: 'all'\r\n}\r\n\r\nconst filters = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'FILTERS_FETCHING':\r\n            return {\r\n                ...state,\r\n                filtersLoadingStatus: 'loading'\r\n            }\r\n        case 'FILTERS_FETCHED':\r\n            return {\r\n                ...state,\r\n                filters: action.payload,\r\n                filtersLoadingStatus: 'idle'\r\n            }\r\n        case 'FILTERS_FETCHING_ERROR':\r\n            return {\r\n                ...state,\r\n                filtersLoadingStatus: 'error'\r\n            }\r\n        case 'ACTIVE_FILTER_CHANGED':\r\n            return {\r\n                ...state,\r\n                activeFilter: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default filters;","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport heroes from '../components/heroesList/heroesSlice';\nimport filters from '../reducers/filters';\nimport ReduxThunk from 'redux-thunk';\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\n\nconst stringMiddleware = () => (next) => (action) => {\n    if(typeof action === 'string') {\n        return next({\n            type: action\n        })\n    }\n    return next(action);\n}\n\n//принимает аргумет, который может приходить строкой \nconst enhancer = ( createStore ) => (...args) => {\n    const store = createStore(...args);\n\n    const oldDispatch = store.dispatch;\n    store.dispatch = (action) => {\n        if(typeof action === 'string') {\n            return oldDispatch({\n                type: action\n            })\n        }\n        return oldDispatch(action);\n    }\n    return store;\n}\n\n//combineReduser необходим для соединения несколько редюсеров, для совместной работы\n// const store = createStore( combineReducers({heroes, filters},\n//             //Соединяет несколько функций, порядок вызова имеет значение\n//             compose(\n//                 // enhancer,\n//                 applyMiddleware(ReduxThunk, stringMiddleware),\n//                 window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n//             )), \n// );\n\nconst store = configureStore ({\n    reducer: {\n        heroes, filters\n    },\n    middleware: getDefaultMiddleware => getDefaultMiddleware().concat(stringMiddleware),\n    devTools: process.env.NODE_ENV != 'production', \n})\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}